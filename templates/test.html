<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Bootstrap Modal</title>
    <!-- Link ke Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>

    <!-- Tombol untuk membuka modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#formModal">
        Buka Form
    </button>

    <!-- Modal -->
    <div class="modal fade" id="formModal" tabindex="-1" aria-labelledby="formModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Header Modal -->
                <div class="modal-header">
                    <h5 class="modal-title" id="formModalLabel">Edit Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Body Modal -->
                <div class="modal-body">
                    <form id="form" method="post" enctype="multipart/form-data" onsubmit="kirimdata(event)">
                        <!-- Input Username -->
                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input type="text" class="form-control" name="username" id="username"
                                value="{{session['username']}}" required>
                        </div>

                        <!-- Input Password -->
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" name="password" value="password" required>
                        </div>

                        <!-- Input Usia -->
                        <div class="mb-3">
                            <label for="usia" class="form-label">Usia</label>
                            <input type="number" class="form-control" name="usia" min="0" value="{{session['usia']}}"
                                required>
                        </div>

                        <!-- Select Jenis Kelamin -->
                        <div class="mb-3">
                            <label for="jeniskelamin" class="form-label">Jenis Kelamin</label>
                            <select name="jeniskelamin" class="form-select" required>
                                <option value="Pilih" disabled {% if session['jeniskelamin']=='Pilih' %}selected{% endif
                                    %}>Pilih</option>
                                <option value="Laki-laki 👦" {% if session['jeniskelamin']=='Laki-laki 👦' %}selected{%
                                    endif %}>Laki-laki</option>
                                <option value="Perempuan 👧" {% if session['jeniskelamin']=='Perempuan 👧' %}selected{%
                                    endif %}>Perempuan</option>
                                <option value="Undefined ❔" {% if session['jeniskelamin']=='Undefined ❔' %}selected{%
                                    endif %}>Undefined</option>
                            </select>
                        </div>

                        <!-- Select Jenis Gym -->
                        <div class="mb-3">
                            <label for="jenisgym" class="form-label">Jenis Gym</label>
                            <select name="jenisgym" class="form-select" required>
                                <option value="Pilih" disabled {% if session['jenisgym']=='Pilih' %}selected{% endif %}>
                                    Pilih</option>
                                <option value="Kardio 💓" {% if session['jenisgym']=='Kardio 💓' %}selected{% endif %}>
                                    Kardio</option>
                                <option value="Strength 💪" {% if session['jenisgym']=='Strength 💪' %}selected{% endif
                                    %}>Strength</option>
                                <option value="Martial Arts 🥋" {% if session['jenisgym']=='Martial Arts 🥋'
                                    %}selected{% endif %}>Martial Arts</option>
                                <option value="Yoga 🧘" {% if session['jenisgym']=='Yoga 🧘' %}selected{% endif %}>Yoga
                                </option>
                                <option value="Undefined ❔" {% if session['jenisgym']=='Undefined ❔' %}selected{% endif
                                    %}>Another</option>
                            </select>
                        </div>

                        <!-- Input Deskripsi -->
                        <div class="mb-3">
                            <label for="deskripsi" class="form-label">Deskripsi</label>
                            <textarea class="form-control" name="deskripsi" id="deskripsi" cols="30"
                                rows="3">{{session['deskripsi']}}</textarea>
                        </div>

                        <!-- Input File Foto Profile -->
                        <div class="mb-3">
                            <label for="fotoprofile" class="form-label">Foto Profile</label>
                            <input type="file" class="form-control" name="fotoprofile" required>
                        </div>

                        <!-- Button Kirim -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                            <button type="submit" class="btn btn-primary">Update</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!-- Link ke Bootstrap JS dan Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <!-- <script>
    // Fungsi untuk menangani pengiriman data dan redirect
    function kirimdata(event) {
      event.preventDefault();  // Mencegah pengiriman form secara default

      // Proses data form bisa ditambahkan di sini (misalnya, menggunakan AJAX)
      
      // Menutup modal setelah submit
      const modal = bootstrap.Modal.getInstance(document.getElementById('formModal'));
      modal.hide();

      // Redirect setelah pengiriman form
      window.location.href = '/'; // Ganti dengan URL yang sesuai
    }
  </script> -->

</body>

</html>